<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FORM: argument.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FORM
   &#160;<span id="projectnumber">5.0.0-beta.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_08d237fc27d4ecd563f71c5d52f2fecc.html">sources</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">argument.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="form3_8h_source.html">form3.h</a>&quot;</code><br />
</div>
<p><a href="argument_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4e067a0bb7a67c6c8a8aa4a2279807ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#a4e067a0bb7a67c6c8a8aa4a2279807ae">NEWORDER</a></td></tr>
<tr class="separator:a4e067a0bb7a67c6c8a8aa4a2279807ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ac64efe20003bba0b05ed6264751a72"><td class="memItemLeft" align="right" valign="top"><a id="a6ac64efe20003bba0b05ed6264751a72"></a>
WORD&#160;</td><td class="memItemRight" valign="bottom"><b>execarg</b> (PHEAD WORD *term, WORD level)</td></tr>
<tr class="separator:a6ac64efe20003bba0b05ed6264751a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065fd901b0c36ebbee9339113f1d1a22"><td class="memItemLeft" align="right" valign="top"><a id="a065fd901b0c36ebbee9339113f1d1a22"></a>
WORD&#160;</td><td class="memItemRight" valign="bottom"><b>execterm</b> (PHEAD WORD *term, WORD level)</td></tr>
<tr class="separator:a065fd901b0c36ebbee9339113f1d1a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2215fe148a2f9fbd5d4592eded2b13"><td class="memItemLeft" align="right" valign="top"><a id="ade2215fe148a2f9fbd5d4592eded2b13"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ArgumentImplode</b> (PHEAD WORD *term, WORD *thelist)</td></tr>
<tr class="separator:ade2215fe148a2f9fbd5d4592eded2b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27775913e73d7f8828893e17587411e0"><td class="memItemLeft" align="right" valign="top"><a id="a27775913e73d7f8828893e17587411e0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ArgumentExplode</b> (PHEAD WORD *term, WORD *thelist)</td></tr>
<tr class="separator:a27775913e73d7f8828893e17587411e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603856df9ff424b965e7578ab8ac4714"><td class="memItemLeft" align="right" valign="top"><a id="a603856df9ff424b965e7578ab8ac4714"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ArgFactorize</b> (PHEAD WORD *argin, WORD *argout)</td></tr>
<tr class="separator:a603856df9ff424b965e7578ab8ac4714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45168cbea3835a9f6a4ac6f4957656f"><td class="memItemLeft" align="right" valign="top">WORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#af45168cbea3835a9f6a4ac6f4957656f">FindArg</a> (PHEAD WORD *a)</td></tr>
<tr class="separator:af45168cbea3835a9f6a4ac6f4957656f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9719382cbeb70ace718875f20a6b2739"><td class="memItemLeft" align="right" valign="top">WORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#a9719382cbeb70ace718875f20a6b2739">InsertArg</a> (PHEAD WORD *argin, WORD *argout, int par)</td></tr>
<tr class="separator:a9719382cbeb70ace718875f20a6b2739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62a957275afdb8a072ffc3f25496c83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#ac62a957275afdb8a072ffc3f25496c83">CleanupArgCache</a> (PHEAD WORD bufnum)</td></tr>
<tr class="separator:ac62a957275afdb8a072ffc3f25496c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b4cce4e87343d4bda2c8e7c6332a42"><td class="memItemLeft" align="right" valign="top"><a id="a47b4cce4e87343d4bda2c8e7c6332a42"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ArgSymbolMerge</b> (WORD *t1, WORD *t2)</td></tr>
<tr class="separator:a47b4cce4e87343d4bda2c8e7c6332a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12bbf1734e1c97ef9c4e7c8f0fae00d"><td class="memItemLeft" align="right" valign="top"><a id="ab12bbf1734e1c97ef9c4e7c8f0fae00d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ArgDotproductMerge</b> (WORD *t1, WORD *t2)</td></tr>
<tr class="separator:ab12bbf1734e1c97ef9c4e7c8f0fae00d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fa4c916afc2821456f82d25e14735b"><td class="memItemLeft" align="right" valign="top">WORD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#a97fa4c916afc2821456f82d25e14735b">TakeArgContent</a> (PHEAD WORD *argin, WORD *argout)</td></tr>
<tr class="separator:a97fa4c916afc2821456f82d25e14735b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0c43396a98c840ff524d45a1c5e646"><td class="memItemLeft" align="right" valign="top">WORD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#abc0c43396a98c840ff524d45a1c5e646">MakeInteger</a> (PHEAD WORD *argin, WORD *argout, WORD *argfree)</td></tr>
<tr class="separator:abc0c43396a98c840ff524d45a1c5e646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a537571de833b1fc7bcbbe086d44a18"><td class="memItemLeft" align="right" valign="top">WORD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#a3a537571de833b1fc7bcbbe086d44a18">MakeMod</a> (PHEAD WORD *argin, WORD *argout, WORD *argfree)</td></tr>
<tr class="separator:a3a537571de833b1fc7bcbbe086d44a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf55e40be921bec44c5411dfcf86b987"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="argument_8c.html#adf55e40be921bec44c5411dfcf86b987">SortWeights</a> (LONG *weights, LONG *extraspace, WORD number)</td></tr>
<tr class="separator:adf55e40be921bec44c5411dfcf86b987"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains the routines that deal with the execution phase of the argument and related statements (like term) </p>

<p class="definition">Definition in file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4e067a0bb7a67c6c8a8aa4a2279807ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e067a0bb7a67c6c8a8aa4a2279807ae">&#9670;&nbsp;</a></span>NEWORDER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NEWORDER</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Factorizes an argument in general notation (meaning that the first word of the argument is a positive size indicator) Input (argin): pointer to the complete argument <a class="el" href="classOutput.html">Output</a> (argout): Pointer to where the output should be written. This is in the WorkSpace Return value should be negative if anything goes wrong.</p>
<p>The notation of the output should be a string of arguments terminated by the number zero.</p>
<p>Originally we sorted in a way that the constants came last. This gave conflicts with the dollar and expression factorizations (in the expressions we wanted the zero first and then followed by the constants). </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l02045">2045</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af45168cbea3835a9f6a4ac6f4957656f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45168cbea3835a9f6a4ac6f4957656f">&#9670;&nbsp;</a></span>FindArg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WORD FindArg </td>
          <td>(</td>
          <td class="paramtype">PHEAD WORD *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Looks the argument up in the (workers) table. If it is found the number in the table is returned (plus one to make it positive). If it is not found we look in the compiler provided table. If it is found - the number in the table is returned (minus one to make it negative). If in neither table we return zero. </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l02495">2495</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
<a id="a9719382cbeb70ace718875f20a6b2739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9719382cbeb70ace718875f20a6b2739">&#9670;&nbsp;</a></span>InsertArg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WORD InsertArg </td>
          <td>(</td>
          <td class="paramtype">PHEAD WORD *&#160;</td>
          <td class="paramname"><em>argin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD *&#160;</td>
          <td class="paramname"><em>argout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>par</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inserts the argument into the (workers) table. If the table is too full we eliminate half of it. The eliminated elements are the ones that have not been used most recently, weighted by their total use and age(?). If par == 0 it inserts in the regular factorization cache If par == 1 it inserts in the cache defined with the FactorCache statement </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l02519">2519</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
<a id="ac62a957275afdb8a072ffc3f25496c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac62a957275afdb8a072ffc3f25496c83">&#9670;&nbsp;</a></span>CleanupArgCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CleanupArgCache </td>
          <td>(</td>
          <td class="paramtype">PHEAD WORD&#160;</td>
          <td class="paramname"><em>bufnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleans up the argument factorization cache. We throw half the elements. For a weight of what we want to keep we use the product of usage and the number in the buffer. </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l02554">2554</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
<a id="a97fa4c916afc2821456f82d25e14735b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97fa4c916afc2821456f82d25e14735b">&#9670;&nbsp;</a></span>TakeArgContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WORD* TakeArgContent </td>
          <td>(</td>
          <td class="paramtype">PHEAD WORD *&#160;</td>
          <td class="paramname"><em>argin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD *&#160;</td>
          <td class="paramname"><em>argout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements part of the old ExecArg in which we take common factors from arguments with more than one term. The common pieces are put in argout as a sequence of arguments. The part with the multiple terms that are now relative prime is put in argfree which is allocated via TermMalloc and is given as the return value. The difference with the old code is that negative powers are always removed. Hence it is as in MakeInteger in which only numerators will be left: now only zero or positive powers will be remaining. </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l02748">2748</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
<a id="abc0c43396a98c840ff524d45a1c5e646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc0c43396a98c840ff524d45a1c5e646">&#9670;&nbsp;</a></span>MakeInteger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WORD* MakeInteger </td>
          <td>(</td>
          <td class="paramtype">PHEAD WORD *&#160;</td>
          <td class="paramname"><em>argin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD *&#160;</td>
          <td class="paramname"><em>argout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD *&#160;</td>
          <td class="paramname"><em>argfree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For normalizing everything to integers we have to determine for all elements of this argument the LCM of the denominators and the GCD of the numerators. The input argument is in argin. The number that comes out should go to argout. The new pointer in the argout buffer is the return value. The normalized argument is in argfree. </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l03294">3294</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
<a id="a3a537571de833b1fc7bcbbe086d44a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a537571de833b1fc7bcbbe086d44a18">&#9670;&nbsp;</a></span>MakeMod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WORD* MakeMod </td>
          <td>(</td>
          <td class="paramtype">PHEAD WORD *&#160;</td>
          <td class="paramname"><em>argin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD *&#160;</td>
          <td class="paramname"><em>argout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD *&#160;</td>
          <td class="paramname"><em>argfree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Similar to MakeInteger but now with modulus arithmetic using only a one WORD 'prime'. We make the coefficient of the first term in the argument equal to one. Already the coefficients are taken modulus AN.cmod and AN.ncmod == 1 </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l03465">3465</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
<a id="adf55e40be921bec44c5411dfcf86b987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf55e40be921bec44c5411dfcf86b987">&#9670;&nbsp;</a></span>SortWeights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SortWeights </td>
          <td>(</td>
          <td class="paramtype">LONG *&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LONG *&#160;</td>
          <td class="paramname"><em>extraspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sorts an array of LONGS in the same way SplitMerge (in <a class="el" href="sort_8c.html">sort.c</a>) works We use gradual division in two. </p>

<p class="definition">Definition at line <a class="el" href="argument_8c_source.html#l03510">3510</a> of file <a class="el" href="argument_8c_source.html">argument.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
